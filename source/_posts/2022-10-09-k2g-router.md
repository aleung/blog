---
title: K2G 无线路由器
date: 2022-10-09 23:26:46
tags:
---

捡到一个斐信K2G无线路由器，上电连接192.168.2.1进入管理界面，发现需要密码，长按后面按钮10秒重置系统，恢复出厂设置。路由器前面只有一盏灯，红色是正在启动，变成橙色是启动完成。

管理界面的路径包含`/cgi-bin/luci`，这个路由器的固件应该是基于OpenWRT的。翻了一下菜单，功能不多，看到网上说这个路由器刷机资源挺丰富的，试一试。

这个路由器硬件是K2G A1版本，固件版本号为22.6.3.20，64M内存，8MB闪存

首先刷breed（bootloader），步骤：

1. 从<https://breed.hackpascal.net>下载breed包([breed-mt7620-phicomm-psg1208.bin](./breed-mt7620-phicomm-psg1208.bin))到本地电脑。
1. 在电脑上运行一个 http server，供下载breed安装包 (例如 npx http-server ~/Download/)
1. 电脑用网线连接路由器. 运行`ip a`确认一下分配到的IP地址，后面路由器要连接这个IP来下载breed安装包
1. 进入路由器管理界面（http://192.168.2.1）：高级设置-系统设置-自动升级-自定义升级时间，从下拉菜单中选择5分钟；按F12打开浏览器开发工具，定位到这个菜单项的HTML，将`value`修改为`05 | /usr/sbin/telnetd -l /bin/login.sh`(注入漏洞)；选择一下其他分钟数，再点回来，确认value内的值没有丢失。然后点击web界面上的保存按钮
1. 这时，telnetd应该就运行了。Telnet到192.168.2.1，应该能够进入shell
1. 在
1. 在shell里面执行:
    ```
    cd /tmp
    wget http://192.168.2.229:8080/breed-mt7620-phicomm-psg1208.bin
    mtd unlock Bootloader
    mtd -r write breed-mt7620-phicomm-psg1208.bin Bootloader
    ```
1. 等待路由器重启，breed就已经被刷入

进入breed web界面的方法：
1. 持续按住路由器上的reset按钮，接通路由器电源，待路由器上电后3-5秒后松开reset按钮，进入bootloader（指示灯会一直红色）
1. 浏览器访问 http://192.168.1.1
1. 上面可以进行固件备份、固件安装等操作。安装固件和恢复出厂配置时需要选择闪存布局/固件类型为"Config区(公版)"。
1. 开刷前，请必须记得先「恢复出厂设置」->「Config 区 (公版)」，然后点「执行」

来源：<https://www.right.com.cn/FORUM/thread-325866-1-1.html>

固件

2020年之后没有人玩这款路由器了，后面没有什么更新

Padavan（老毛子）固件

<https://www.right.com.cn/forum/thread-4000461-1-1.html>
- 标准版固件有问题。重新启动或恢复出厂设置无法启动路由器

下面几个都没有k2g版本：
<https://bitbucket.org/padavan/rt-n56u>：Padavan原始网站，俄罗斯（老毛子）大神改自华硕路由器系统
<https://github.com/hanwckf/rt-n56u>：hanwckf的Padavan mod
<http://opt.cn2qq.com>：hiboy的Padavan mod，<https://www.right.com.cn/forum/thread-161324-1-2.html>
<https://rom.nanodm.net/router/K2P/>:不知道谁的mod


Pandorabox 潘多拉固件

- 基于openwrt(Lede)，和openwrt(Lede)几乎拥有一样的优缺点(无线驱动比openwrt的开源驱动好很多)
- 胜在丰富的插件和自由的固件定制
- 使用复杂

<http://downloads.pangubox.com:6380/pandorabox/19.01/targets/ralink/mt7620/>
v19.01, 2018-12-31 (版本太旧)
kernel 3.14.79
缺省登录：root/admin